/*
 *
 * Wijmo Library 1.0.0
 * http://wijmo.com/
 *
 * Copyright(c) ComponentOne, LLC.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://www.wijmo.com/license
 *
 **/
"use strict";(function(a){var b=0;a.widget("wijmo.wijcheckbox",{_csspre:"wijmo-checkbox",_init:function(){var c=this,e,g,f,d,h;if(c.element.is(":checkbox")){if(!c.element.attr("id")){c.element.attr("id",c._csspre+b);b+=1}if(c.element.parent().is("label")){e=c.element.parent().wrap("<div class='"+c._csspre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(c._csspre+" ui-widget");g=c.element.parent();g.attr("for",c.element.attr("id"));e.find("."+c._csspre+"-inputwrapper").append(c.element);e.append(g)}else e=c.element.wrap("<div class='"+c._csspre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(c._csspre+" ui-widget");f=a("label[for='"+c.element.attr("id")+"']");if(f.length>0){e.append(f);f.attr("labelsign","C1")}d=a("<div class='"+c._csspre+"-box ui-widget ui-state-default ui-corner-all'><span class='"+c._csspre+"-icon'></span></div>");h=d.children("."+c._csspre+"-icon");e.append(d);c.element.data("iconElement",h);c.element.data("boxElement",d);c.element.is(":disabled")&&c._setOption("disabled",true);d.removeClass(c._csspre+"-relative").attr("role","checkbox");(f.length===0||f.html()==="")&&d.addClass(c._csspre+"-relative");c.element.bind("click.checkbox",function(){c.refresh()}).bind("focus.checkbox",function(){if(c.options.disabled)return;d.removeClass("ui-state-default").addClass("ui-state-focus")}).bind("blur.checkbox",function(){if(c.options.disabled)return;d.removeClass("ui-state-focus").not(".ui-state-hover").addClass("ui-state-default")}).bind("keydown.checkbox",function(a){if(a.keyCode===32){c.element.attr("checked",!c.element.attr("checked"));c.refresh()}});e.click(function(){c.element.attr("checked",!c.element.attr("checked"));c.element.focus();c.refresh()});c.refresh();e.bind("mouseover.checkbox",function(){if(c.options.disabled)return;d.removeClass("ui-state-default").addClass("ui-state-hover")}).bind("mouseout.checkbox",function(){if(c.options.disabled)return;d.removeClass("ui-state-hover").not(".ui-state-focus").addClass("ui-state-default")})}},refresh:function(){var a=this;a.element.data("iconElement").toggleClass("ui-icon ui-icon-check",a.element.is(":checked"));a.element.data("boxElement").toggleClass("ui-state-active",a.element.is(":checked")).attr("aria-checked",a.element.is(":checked"))},destroy:function(){var b=this,c=b.element.parent().parent();c.children("div."+b._csspre+"-box").remove();b.element.unwrap();b.element.unwrap();a.Widget.prototype.destroy.apply(b)}})})(jQuery);